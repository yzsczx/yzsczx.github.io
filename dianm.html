<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>星际随机点名系统</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
            overflow: hidden;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        /* 星空效果 */
        .stars {
            position: fixed;
            width: 100%;
            height: 100%;
            animation: twinkle 200s linear infinite;
        }

        @keyframes twinkle {
            0% { opacity: 0.8; }
            50% { opacity: 0.5; }
            100% { opacity: 0.8; }
        }

        /* 班级选择 */
        .class-selector {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
        }

        .class-btn {
            display: block;
            margin: 10px;
            padding: 12px 24px;
            background: rgba(255,255,255,0.1);
            border: 1px solid #00ffff;
            color: #00ffff;
            border-radius: 30px;
            cursor: pointer;
            transition: 0.3s;
        }

        .class-btn:hover {
            background: rgba(0,255,255,0.2);
            box-shadow: 0 0 15px #00ffff;
        }

        /* 地球容器 */
        .earth-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            perspective: 1000px;
        }

        /* 地球球体 */
        .earth-sphere {
            width: 400px;
            height: 400px;
            position: relative;
            transform-style: preserve-3d;
            animation: rotate 30s linear infinite;
        }

        /* 姓名标签 */
        .name-tag {
            position: absolute;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            text-align: center;
            transform-style: preserve-3d;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.3);
        }

        /* 结果展示框 */
        .result-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            background: #ff4444;
            display: none;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: white;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(255,68,68,0.5);
        }

        /* 控制按钮 */
        .controls {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        .control-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            transition: 0.3s;
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .control-btn:hover {
            background: rgba(255,255,255,0.2);
            box-shadow: 0 0 15px white;
        }

        /* 动画 */
        @keyframes rotate {
            0% { transform: rotateY(0deg) rotateX(10deg); }
            100% { transform: rotateY(360deg) rotateX(10deg); }
        }
    </style>
</head>
<body>
    <!-- 星空背景 -->
    <div class="stars"></div>

    <!-- 班级选择 -->
    <div class="class-selector">
        <button class="class-btn" data-class="1">星辰一班</button>
        <button class="class-btn" data-class="2">银河二班</button>
        <button class="class-btn" data-class="3">宇宙三班</button>
        <button class="class-btn" data-class="4">星际四班</button>
    </div>

    <!-- 地球容器 -->
    <div class="earth-container">
        <div class="earth-sphere" id="earthSphere"></div>
    </div>

    <!-- 结果展示 -->
    <div class="result-box" id="resultBox"></div>

    <!-- 控制按钮 -->
    <div class="controls">
        <button class="control-btn" id="startBtn">启动</button>
        <button class="control-btn" id="stopBtn">捕获</button>
        <button class="control-btn" id="resetBtn">重置</button>
    </div>

    <script>
        // 班级数据
        const starClasses = {
            1: ["北极星", "天狼星", "织女星", "大角星", "心宿二"],
            2: ["黑洞", "中子星", "脉冲星", "类星体", "暗物质"],
            3: ["月球", "火星", "木星", "土星", "天王星"],
            4: ["银河", "星云", "星团", "超新星", "虫洞"]
        };

        let currentClass = [];
        let animationId = null;
        let currentName = "";
        const earthSphere = document.getElementById('earthSphere');
        const resultBox = document.getElementById('resultBox');

        // 初始化班级选择
        document.querySelectorAll('.class-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                currentClass = starClasses[btn.dataset.class];
                initEarthSphere();
            });
        });

        // 初始化地球
        function initEarthSphere() {
            earthSphere.innerHTML = "";
            resultBox.style.display = "none";
            
            currentClass.forEach(name => {
                const angle = (Math.random() * 360);
                const tag = document.createElement('div');
                tag.className = "name-tag";
                tag.textContent = name;
                
                // 3D定位计算
                const transform = `
                    rotateY(${angle}deg) 
                    translateZ(200px) 
                    rotateX(${Math.random() * 30 - 15}deg)
                `;
                
                tag.style.transform = transform;
                earthSphere.appendChild(tag);
            });
        }

        // 开始动画
        document.getElementById('startBtn').addEventListener('click', () => {
            if (currentClass.length === 0) {
                alert("请先选择星际班级！");
                return;
            }
            
            earthSphere.style.animation = "rotate 30s linear infinite";
            resultBox.style.display = "none";
            animateNames();
        });

        // 随机跳动动画
        function animateNames() {
            const tags = document.querySelectorAll('.name-tag');
            tags.forEach(tag => {
                tag.style.transform += `
                    rotateZ(${Math.random() * 360}deg)
                    scale(${0.8 + Math.random() * 0.4})
                `;
            });
            
            animationId = requestAnimationFrame(animateNames);
        }

        // 停止捕获
        document.getElementById('stopBtn').addEventListener('click', () => {
            if (currentClass.length === 0) return;
            
            cancelAnimationFrame(animationId);
            earthSphere.style.animation = "none";
            currentName = currentClass[Math.floor(Math.random() * currentClass.length)];
            
            resultBox.textContent = currentName;
            resultBox.style.display = "flex";
            resultBox.style.animation = "appear 0.5s";
        });

        // 重置系统
        document.getElementById('resetBtn').addEventListener('click', () => {
            cancelAnimationFrame(animationId);
            currentClass = [];
            earthSphere.innerHTML = "";
            resultBox.style.display = "none";
            resultBox.textContent = "";
            earthSphere.style.animation = "";
        });

        // 初始化默认班级
        currentClass = starClasses[1];
        initEarthSphere();
    </script>
</body>
</html>